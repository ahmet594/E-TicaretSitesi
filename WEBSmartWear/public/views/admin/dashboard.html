<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Paneli - SmartWear</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/admin.css">
</head>
<body>
    <div id="navbar-container"></div>

    <main class="admin-container">
        <div class="admin-sidebar">
            <div class="admin-profile">
                <i class="fas fa-user-shield"></i>
                <h3>Admin Paneli</h3>
            </div>
            <nav class="admin-nav">
                <ul>
                    <li class="active"><a href="/views/admin/dashboard.html"><i class="fas fa-tachometer-alt"></i> Ana Panel</a></li>
                    <li><a href="/views/admin/add-product.html"><i class="fas fa-plus-circle"></i> Ürün Ekle</a></li>
                    <li><a href="/views/admin/manage-products.html"><i class="fas fa-box"></i> Ürünleri Yönet</a></li>
                    <li><a href="/views/admin/manage-users.html"><i class="fas fa-users"></i> Kullanıcıları Yönet</a></li>
                </ul>
            </nav>
            <div class="admin-logout">
                <button id="admin-logout-btn"><i class="fas fa-sign-out-alt"></i> Çıkış Yap</button>
            </div>
        </div>
        
        <div class="admin-content">
            <div class="admin-header">
                <h1>Yönetim Paneli</h1>
                <p id="admin-date">Tarih: <span></span></p>
            </div>
            
            <div class="admin-stats">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <div class="stat-info">
                        <h3>Kullanıcılar</h3>
                        <p class="stat-number">155</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-shopping-cart"></i></div>
                    <div class="stat-info">
                        <h3>Siparişler</h3>
                        <p class="stat-number">42</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-box"></i></div>
                    <div class="stat-info">
                        <h3>Ürünler</h3>
                        <p class="stat-number">278</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-money-bill-wave"></i></div>
                    <div class="stat-info">
                        <h3>Gelir</h3>
                        <p class="stat-number">₺12,450</p>
                    </div>
                </div>
            </div>
            
            <div class="admin-widgets">
                <div class="widget recent-orders">
                    <div class="widget-header">
                        <h3><i class="fas fa-shopping-cart"></i> Son Siparişler</h3>
                        <a href="#" class="view-all">Tümünü Gör</a>
                    </div>
                    <div class="widget-content">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Sipariş No</th>
                                    <th>Müşteri</th>
                                    <th>Tarih</th>
                                    <th>Tutar</th>
                                    <th>Durum</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#1024</td>
                                    <td>Ahmet Yılmaz</td>
                                    <td>10.10.2023</td>
                                    <td>₺750</td>
                                    <td><span class="status completed">Tamamlandı</span></td>
                                </tr>
                                <tr>
                                    <td>#1023</td>
                                    <td>Ayşe Demir</td>
                                    <td>09.10.2023</td>
                                    <td>₺480</td>
                                    <td><span class="status processing">İşlemde</span></td>
                                </tr>
                                <tr>
                                    <td>#1022</td>
                                    <td>Mehmet Kaya</td>
                                    <td>08.10.2023</td>
                                    <td>₺950</td>
                                    <td><span class="status completed">Tamamlandı</span></td>
                                </tr>
                                <tr>
                                    <td>#1021</td>
                                    <td>Zeynep Aydın</td>
                                    <td>07.10.2023</td>
                                    <td>₺320</td>
                                    <td><span class="status canceled">İptal Edildi</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="widget quick-stats">
                    <div class="widget-header">
                        <h3><i class="fas fa-chart-line"></i> İstatistikler</h3>
                    </div>
                    <div class="widget-content">
                        <div class="quick-stat">
                            <p>En Çok Satan Ürünler</p>
                            <ul>
                                <li>Spor Ayakkabı - 24 adet</li>
                                <li>Slim Fit Tişört - 19 adet</li>
                                <li>Deri Cüzdan - 15 adet</li>
                            </ul>
                        </div>
                        <div class="quick-stat">
                            <p>Stok Durumu</p>
                            <div class="progress-container">
                                <p>Giyim <span>68%</span></p>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 68%"></div>
                                </div>
                            </div>
                            <div class="progress-container">
                                <p>Ayakkabı <span>42%</span></p>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 42%"></div>
                                </div>
                            </div>
                            <div class="progress-container">
                                <p>Aksesuar <span>85%</span></p>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 85%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/js/components/components-loader.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/admin.js"></script>
    <script>
        // Admin paneli için rol kontrolü
        document.addEventListener('DOMContentLoaded', function() {
            const userRole = localStorage.getItem('userRole');
            // Eğer kullanıcı admin değilse, ana sayfaya yönlendir
            if (userRole !== 'admin') {
                window.location.href = '/views/index.html';
                return;
            }
            
            // Tarih bilgisini güncelle
            const dateElement = document.querySelector('#admin-date span');
            if (dateElement) {
                const now = new Date();
                dateElement.textContent = now.toLocaleDateString('tr-TR');
            }
            
            // Çıkış butonunu ayarla
            const logoutBtn = document.getElementById('admin-logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    localStorage.removeItem('token');
                    localStorage.removeItem('userId');
                    localStorage.removeItem('userName');
                    localStorage.removeItem('userRole');
                    window.location.href = '/views/index.html';
                });
            }
        });
    </script>
</body>
</html> 